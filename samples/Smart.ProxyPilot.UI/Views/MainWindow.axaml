<u:UrsaWindow
    x:Class="Smart.ProxyPilot.UI.Views.MainWindow"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:u="https://irihi.tech/ursa"
    xmlns:vm="using:Smart.ProxyPilot.UI.ViewModels"
    xmlns:views="using:Smart.ProxyPilot.UI.Views"
    x:DataType="vm:MainViewModel"
    Title="Smart.ProxyPilot - 智能代理池"
    Width="1200" Height="800"
    MinWidth="900" MinHeight="600"
    WindowStartupLocation="CenterScreen">

  <Design.DataContext>
    <vm:MainViewModel />
  </Design.DataContext>

  <Grid RowDefinitions="Auto,*" Margin="0,32,0,0">
    <!-- 顶部状态条 -->
    <views:PoolStatusView Grid.Row="0" DataContext="{Binding PoolStatus}" />

    <!-- 主内容区：左侧边栏 + 右侧内容 -->
    <Grid Grid.Row="1" ColumnDefinitions="56,*">
      <!-- 左侧边栏 -->
      <views:SidebarView Grid.Column="0" DataContext="{Binding}" />

      <!-- 右侧主内容 -->
      <Grid Grid.Column="1" RowDefinitions="*,Auto">
        <!-- 上部：代理列表 + 详情 -->
        <Grid Grid.Row="0" ColumnDefinitions="*,320">
          <!-- 代理列表 -->
          <views:ProxyListView Grid.Column="0" DataContext="{Binding ProxyList}" />

          <!-- 详情面板 -->
          <views:ProxyDetailView Grid.Column="1" DataContext="{Binding ProxyList}" />
        </Grid>

        <!-- 下部：日志 -->
        <views:LogView Grid.Row="1" DataContext="{Binding}" />
      </Grid>
    </Grid>
  </Grid>
</u:UrsaWindow>
