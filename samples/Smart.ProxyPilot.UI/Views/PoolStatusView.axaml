<UserControl
    x:Class="Smart.ProxyPilot.UI.Views.PoolStatusView"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:vm="using:Smart.ProxyPilot.UI.ViewModels"
    x:DataType="vm:PoolStatusViewModel">

  <!-- 紧凑横向状态条 -->
  <Border Background="{DynamicResource SemiGrey0}" Padding="16,10" BorderThickness="0,0,0,1" BorderBrush="{DynamicResource SemiGrey2}">
    <StackPanel Orientation="Horizontal" Spacing="32">
      <!-- 总数 -->
      <StackPanel Orientation="Horizontal" Spacing="6">
        <TextBlock Text="总数" Foreground="{DynamicResource SemiGrey5}" VerticalAlignment="Center" FontSize="13" />
        <TextBlock Text="{Binding TotalCount}" FontSize="18" FontWeight="Bold" VerticalAlignment="Center" />
      </StackPanel>

      <Border Width="1" Background="{DynamicResource SemiGrey3}" Margin="0,2" />

      <!-- 可用 -->
      <StackPanel Orientation="Horizontal" Spacing="6">
        <Ellipse Width="8" Height="8" Fill="Green" VerticalAlignment="Center" />
        <TextBlock Text="可用" Foreground="{DynamicResource SemiGrey5}" VerticalAlignment="Center" FontSize="13" />
        <TextBlock Text="{Binding AvailableCount}" FontSize="18" FontWeight="Bold" Foreground="Green" VerticalAlignment="Center" />
        <TextBlock Text="{Binding AvailablePercent, StringFormat=({0:F0}%)}" Foreground="{DynamicResource SemiGrey4}" VerticalAlignment="Center" FontSize="12" />
      </StackPanel>

      <!-- 验证中 -->
      <StackPanel Orientation="Horizontal" Spacing="6">
        <Ellipse Width="8" Height="8" Fill="Orange" VerticalAlignment="Center" />
        <TextBlock Text="验证中" Foreground="{DynamicResource SemiGrey5}" VerticalAlignment="Center" FontSize="13" />
        <TextBlock Text="{Binding ValidatingCount}" FontSize="18" FontWeight="Bold" Foreground="Orange" VerticalAlignment="Center" />
      </StackPanel>

      <!-- 冷却中 -->
      <StackPanel Orientation="Horizontal" Spacing="6">
        <Ellipse Width="8" Height="8" Fill="DodgerBlue" VerticalAlignment="Center" />
        <TextBlock Text="冷却中" Foreground="{DynamicResource SemiGrey5}" VerticalAlignment="Center" FontSize="13" />
        <TextBlock Text="{Binding CooldownCount}" FontSize="18" FontWeight="Bold" Foreground="DodgerBlue" VerticalAlignment="Center" />
      </StackPanel>

      <!-- 已禁用 -->
      <StackPanel Orientation="Horizontal" Spacing="6">
        <Ellipse Width="8" Height="8" Fill="Gray" VerticalAlignment="Center" />
        <TextBlock Text="已禁用" Foreground="{DynamicResource SemiGrey5}" VerticalAlignment="Center" FontSize="13" />
        <TextBlock Text="{Binding DisabledCount}" FontSize="18" FontWeight="Bold" Foreground="Gray" VerticalAlignment="Center" />
      </StackPanel>

      <Border Width="1" Background="{DynamicResource SemiGrey3}" Margin="0,2" />

      <!-- 成功率 -->
      <StackPanel Orientation="Horizontal" Spacing="6">
        <TextBlock Text="成功率" Foreground="{DynamicResource SemiGrey5}" VerticalAlignment="Center" FontSize="13" />
        <TextBlock Text="{Binding OverallSuccessRate, StringFormat={}{0:F1}%}" FontSize="16" FontWeight="SemiBold" VerticalAlignment="Center" />
      </StackPanel>

      <!-- 平均响应 -->
      <StackPanel Orientation="Horizontal" Spacing="6">
        <TextBlock Text="响应" Foreground="{DynamicResource SemiGrey5}" VerticalAlignment="Center" FontSize="13" />
        <TextBlock Text="{Binding AvgResponseTime, StringFormat={}{0:F0}ms}" FontSize="16" FontWeight="SemiBold" VerticalAlignment="Center" />
      </StackPanel>
    </StackPanel>
  </Border>
</UserControl>
