<UserControl
    x:Class="Smart.ProxyPilot.UI.Views.SidebarView"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:vm="using:Smart.ProxyPilot.UI.ViewModels"
    xmlns:converters="using:Smart.ProxyPilot.UI.Converters"
    x:DataType="vm:MainViewModel">

  <Border Background="{DynamicResource SemiGrey1}" Width="56">
    <Grid RowDefinitions="Auto,*,Auto">
      <!-- 顶部操作按钮 -->
      <StackPanel Grid.Row="0" Spacing="4" Margin="8,8">
        <!-- 启动 -->
        <Button
          Command="{Binding StartCommand}"
          IsEnabled="{Binding IsRunning, Converter={x:Static converters:InverseBoolConverter.Instance}}"
          Classes="Primary"
          Width="40" Height="40"
          Padding="0"
          ToolTip.Tip="启动代理池">
          <PathIcon Data="M8 5v14l11-7z" Width="16" Height="16" />
        </Button>

        <!-- 停止 -->
        <Button
          Command="{Binding StopCommand}"
          IsEnabled="{Binding IsRunning}"
          Classes="Danger"
          Width="40" Height="40"
          Padding="0"
          ToolTip.Tip="停止代理池">
          <PathIcon Data="M6 6h12v12H6z" Width="16" Height="16" />
        </Button>

        <!-- 刷新 -->
        <Button
          Command="{Binding RefreshCommand}"
          Classes="Tertiary"
          Width="40" Height="40"
          Padding="0"
          ToolTip.Tip="刷新数据">
          <PathIcon Data="M17.65 6.35A7.958 7.958 0 0012 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0112 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z" Width="16" Height="16" />
        </Button>

        <Border Height="1" Background="{DynamicResource SemiGrey3}" Margin="4,8" />

        <!-- 设置 -->
        <Button
          Classes="Tertiary"
          Width="40" Height="40"
          Padding="0"
          ToolTip.Tip="设置">
          <PathIcon Data="M19.14 12.94c.04-.31.06-.63.06-.94 0-.31-.02-.63-.06-.94l2.03-1.58a.49.49 0 00.12-.61l-1.92-3.32a.488.488 0 00-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 00-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94l-2.03 1.58a.49.49 0 00-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z" Width="16" Height="16" />
        </Button>
      </StackPanel>

      <!-- 底部状态指示 -->
      <StackPanel Grid.Row="2" Margin="8,8" HorizontalAlignment="Center">
        <Ellipse
          Width="12" Height="12"
          Fill="{Binding IsRunning, Converter={x:Static converters:BoolToColorConverter.Instance}}"
          ToolTip.Tip="{Binding IsRunning, Converter={x:Static converters:BoolToTextConverter.Instance}}" />
      </StackPanel>
    </Grid>
  </Border>
</UserControl>
